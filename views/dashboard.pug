doctype html
html
  head
    title Socket.IO Example
  body
    h1 Real-time Chat
    ul#messages
    form#chat-form
      input#message-input(type='text', autocomplete='off')
      button Send
    script(src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js')
    script.
      const socket = io();

      // 서버에서 전달된 메시지 수신
      socket.on('setDB', (msg) => {
          const messages = document.getElementById('messages');
          const li = document.createElement('li');
          li.textContent = msg;
          messages.appendChild(li);
      });

      socket.on('serverMessage', (msg) => {
          const messages = document.getElementById('messages');
          const li = document.createElement('li');
          li.textContent = msg;
          messages.appendChild(li);
      });

      socket.on('DBlist', (msg)=> {
        const messages = document.getElementById('messages');
        const div = document.createElement('div')
        div.textContent = msg;
        messages.appendChild(div);
      })

      // 메시지 전송
      const form = document.getElementById('chat-form');
      form.addEventListener('submit', (e) => {
          e.preventDefault();
          const input = document.getElementById('message-input');
          const msg = input.value;
          socket.emit('setDB', msg);
          input.value = '';
      });